     1                                  ; asum.asm
     2                                  section .data
     3                                  section .bss
     4                                  section .text
     5                                  global asum
     6                                  asum:
     7                                       section .text
     8                                  ; Вычисление суммы.
     9 00000000 4889F1                             mov     rcx, rsi                   ; Длина массива.
    10 00000003 4889FB                             mov     rbx, rdi                   ; Адрес массива.
    11 00000006 41BC00000000                       mov     r12, 0
    12 0000000C F2420F1004E3                       movsd   xmm0, qword[rbx+r12*8]
    13 00000012 48FFC9                             dec     rcx                        ; На один проход в цикле меньше, так как первый элемент уже в регистре xmm0.
    14                                       sloop:
    15 00000015 49FFC4                             inc     r12
    16 00000018 F2420F5804E3                       addsd   xmm0, qword[rbx+r12*8]
    17 0000001E E2F5                               loop    sloop
    18 00000020 C3                           ret                                      ; Сумма возвращается в регистре xmm0.  
